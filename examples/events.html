<html>
<head>

<title>Events Example</title>

<style type="text/css">
#map_div     
{ 
  width:100%;
  height:100%;
}
</style>

<script src="../api/jquery-1.5.2.min.js" type="text/javascript"></script>
<script src="../api/jquery.json-2.2.min.js" type="text/javascript"></script>
<script src="../api/PluginManagement.js" type="text/javascript"></script>
<script src="../api/BrowserDetect.js" type = "text/javascript"></script>
<script src="../api/Common.js" type="text/javascript"> </script>
<script src="../api/Color.js" type="text/javascript"> </script>
<script src="../api/Location.js" type="text/javascript"></script>
<script src="../api/Orientation.js" type="text/javascript"></script>
<script src="../api/Scale.js" type="text/javascript"></script>
<script src="../api/TextLabel.js" type="text/javascript"> </script>
<script src="../api/Map.js" type="text/javascript"> </script>
<script src="../api/Model.js" type="text/javascript"></script>
<script src="../api/GeoIcon.js" type="text/javascript"></script>
<script src="../api/Parsers/GPXParser.js" type="text/javascript"></script>


<script type="text/javascript">

function initialize()
{
  map = new Map('mapcontrol');
  map.setBackColor(new Color(0.01, 0.01, 0.01, 1));
  map.setMapFile("http://demo.pelicanmapping.com/rmweb/maps/ags_imagery.earth");

  map.addEvent("onmousedown", onMapClick);
}

function onMapClick(data)
{
  var loc = map.getIntersection(data.x, data.y);
  if (loc != null)
    alert("Latitude: " + loc.getLatitude() + "\nLongitude: " + loc.getLongitude());
}

</script>

</head>

<body onload="initialize()">

Click the map:
<br />

<div id="map_div">
  <script type="text/javascript">
    Map.embed("map_div", "mapcontrol", "application/godzi", "CLSID:5F41CFDD-D29D-4CA8-B37D-6F64F28E12EA");
  </script>
</div>

</body>
</html>

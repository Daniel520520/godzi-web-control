<html>
<head>

  <title>Image Layers Example</title>

<style type="text/css">
#map_div     
{ 
  width:100%;
  height:100%;
}
</style>

<script src="../api/jquery-1.5.2.min.js" type="text/javascript"></script>
<script src="../api/jquery.json-2.2.min.js" type="text/javascript"></script>
<script src="../api/PluginManagement.js" type="text/javascript"></script>
<script src="../api/BrowserDetect.js" type = "text/javascript"></script>
<script src="../api/Common.js" type="text/javascript"> </script>
<script src="../api/Color.js" type="text/javascript"> </script>
<script src="../api/Map.js" type="text/javascript"> </script>
<script src="../api/Location.js" type="text/javascript"></script>
<script src="../api/Scale.js" type="text/javascript"></script>
<script src="../api/Orientation.js" type="text/javascript"></script>
<script src="../api/Layers/TMSLayer.js" type="text/javascript"> </script>
<script src="../api/Layers/WMSLayer.js" type="text/javascript"> </script>


<script type="text/javascript">

function initialize()
{
  map = new Map('readymap');
  map.setBackColor(new Color(0.01, 0.01, 0.01, 1));
  map.setMapFile("http://demo.pelicanmapping.com/rmweb/maps/ags_imagery.earth");
}

function addTMS()
{
  var url = document.getElementById("txtTMSUrl").value;
  map.addImageLayer(new TMSLayer("Night TMS", url));
}

function addWMS()
{
	wms = new WMSLayer("Night WMS", "http://live.pelicanmapping.com/readymap/tiles", { layers: "26", format: "image/png" });

	//Alternatively
	//wms = new WMSLayer("Night WMS", "http://live.pelicanmapping.com/readymap/tiles?request=GetMap&layers=26&format=image/png&service=WMS&version=1.1.1&srs=EPSG:4326");

	map.addImageLayer(wms);
}

function removeWMS()
{
	if (wms != undefined)
	  map.removeImageLayer(wms);
}

</script>

</head>

<body onload="initialize()">

TMS: <input id ="txtTMSUrl" size = 70 type="text" value=""/> <input id ="btnLoadTMS" type="button" value="Add" onclick="addTMS()"/>
<br />
WMS: <input id ="btnLoadWMS" type="button" value="Add WMS" onclick="addWMS()"/> <input id ="btnRemoveWMS" type="button" value="Remove WMS" onclick="removeWMS()"/>
<br />

<div id="map_div">
  <script type="text/javascript">
    Map.embed("map_div", "readymap", "application/readymap", "CLSID:5F41CFDD-D29D-4CA8-B37D-6F64F28E12EA");
  </script>
</div>

</body>
</html>
